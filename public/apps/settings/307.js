"use strict";(self.webpackChunk_wpbones_wp_bannerize_pro=self.webpackChunk_wpbones_wp_bannerize_pro||[]).push([[307],{5307:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var n=r(1609),a=r(9019),o=r(132),i=r(4034),l=r(7826),u=r(4848),s=r(6100),c=r(2412),d=r(2056);const p={},f=(0,c.P)(((e,t)=>{const r=(0,s.Y)("TextInput",p,e);return(0,u.jsx)(d.O,{component:"input",ref:t,...r,__staticSelector:"TextInput"})}));f.classes=d.O.classes,f.displayName="@mantine/core/TextInput";var g=r(1617),h=r(8168),m=r(8587);const v=n.useLayoutEffect;var b=function(e,t){"function"!=typeof e?e.current=t:e(t)};var y={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},x=function(e){Object.keys(y).forEach((function(t){e.style.setProperty(t,y[t],"important")}))},E=null,z=function(e,t){var r=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?r+t.borderSize:r-t.paddingSize},S=function(){},w=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],_=!!document.documentElement.currentStyle;function k(e,t,r){var a,o,i=(a=r,o=n.useRef(a),v((function(){o.current=a})),o);n.useLayoutEffect((function(){var r=function(e){return i.current(e)};if(e)return e.addEventListener(t,r),function(){return e.removeEventListener(t,r)}}),[])}var R=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],O=function(e,t){var r,a=e.cacheMeasurements,o=e.maxRows,i=e.minRows,l=e.onChange,u=void 0===l?S:l,s=e.onHeightChange,c=void 0===s?S:s,d=(0,m.A)(e,R),p=void 0!==d.value,f=n.useRef(null),g=function(e,t){var r=(0,n.useRef)();return(0,n.useCallback)((function(n){e.current=n,r.current&&b(r.current,null),r.current=t,t&&b(t,n)}),[t])}(f,t),v=n.useRef(0),y=n.useRef(),O=function(){var e=f.current,t=a&&y.current?y.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var r,n=(r=t,w.reduce((function(e,t){return e[t]=r[t],e}),{})),a=n.boxSizing;return""===a?null:(_&&"border-box"===a&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px"),{sizingStyle:n,paddingSize:parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),borderSize:parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth)})}(e);if(t){y.current=t;var r=function(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=1/0),E||((E=document.createElement("textarea")).setAttribute("tabindex","-1"),E.setAttribute("aria-hidden","true"),x(E)),null===E.parentNode&&document.body.appendChild(E);var a=e.paddingSize,o=e.borderSize,i=e.sizingStyle,l=i.boxSizing;Object.keys(i).forEach((function(e){var t=e;E.style[t]=i[t]})),x(E),E.value=t;var u=z(E,e);E.value=t,u=z(E,e),E.value="x";var s=E.scrollHeight-a,c=s*r;"border-box"===l&&(c=c+a+o),u=Math.max(c,u);var d=s*n;return"border-box"===l&&(d=d+a+o),[u=Math.min(d,u),s]}(t,e.value||e.placeholder||"x",i,o),n=r[0],l=r[1];v.current!==n&&(v.current=n,e.style.setProperty("height",n+"px","important"),c(n,{rowHeight:l}))}};return n.useLayoutEffect(O),k(window,"resize",O),r=O,k(document.fonts,"loadingdone",r),n.createElement("textarea",(0,h.A)({},d,{onChange:function(e){p||O(),u(e)},ref:g}))},T=n.forwardRef(O),F=r(9890);const I={},C=(0,c.P)(((e,t)=>{const{autosize:r,maxRows:n,minRows:a,__staticSelector:o,resize:i,...l}=(0,s.Y)("Textarea",I,e),c=r&&"test"!==(0,F._)(),p=c?{maxRows:n,minRows:a}:{};return(0,u.jsx)(d.O,{component:c?T:"textarea",ref:t,...l,__staticSelector:o||"Textarea",multiline:!0,"data-no-overflow":r&&void 0===n||void 0,__vars:{"--input-resize":i},...p})}));function P(e,t){if("string"==typeof e&&0===e.trim().length)return!0;try{return t(e),!0}catch(e){return!1}}C.classes=d.O.classes,C.displayName="@mantine/core/Textarea";const L={serialize:JSON.stringify,deserialize:JSON.parse},A=(0,c.P)(((e,t)=>{const{value:r,defaultValue:a,onChange:o,formatOnBlur:i,validationError:l,serialize:c,deserialize:d,onFocus:p,onBlur:f,readOnly:h,error:m,...v}=(0,s.Y)("JsonInput",L,e),[b,y]=(0,g.Z)({value:r,defaultValue:a,finalValue:"",onChange:o}),[x,E]=(0,n.useState)(P(b,d));return(0,u.jsx)(C,{value:b,onChange:e=>y(e.currentTarget.value),onFocus:e=>{p?.(e),E(!0)},onBlur:e=>{"function"==typeof f&&f(e);const t=P(e.currentTarget.value,d);i&&!h&&t&&""!==e.currentTarget.value.trim()&&y(c(d(e.currentTarget.value),null,2)),E(t)},ref:t,readOnly:h,...v,autoComplete:"off",__staticSelector:"JsonInput",error:x?m:l||!0,"data-monospace":!0})}));A.classes=d.O.classes,A.displayName="@mantine/core/JsonInput";var B=(0,r(8728).A)("outline","hand-little-finger","IconHandLittleFinger",[["path",{d:"M8 13v-2.5a1.5 1.5 0 0 1 3 0v1.5",key:"svg-0"}],["path",{d:"M11 11.5v-1a1.5 1.5 0 0 1 3 0v1.5",key:"svg-1"}],["path",{d:"M17 12v-5.5a1.5 1.5 0 0 1 3 0v9.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47",key:"svg-2"}],["path",{d:"M14 10.5a1.5 1.5 0 0 1 3 0v1.5",key:"svg-3"}]]),W=r(2648),Y=r(2745),M=r(792);function N(){const{getOptions:e,updateOptions:t}=(0,Y.vp)(),r=e("geolocalization.ipstack.api_key"),[u,s]=(0,n.useState)(r),{data:c,error:d,isLoading:p,isValidating:g,mutate:h}=(0,W.Ay)("wp_bannerize_get_geo",M.b),m=c&&c.error;return(0,n.createElement)(a.B,{py:16},!u&&(0,n.createElement)(o.F,{color:"yellow",title:"Warning!",icon:(0,n.createElement)(B,null)},"To start, or continue using the Geolocalizer features, you must register with one of the services listed below."),(0,n.createElement)(i.L,{legend:"IP Stack"},(0,n.createElement)(a.B,null,m?(0,n.createElement)(o.F,{color:"red",title:`Error: ${c.error.type} - ${c.error.code}`},(0,n.createElement)(l.E,{size:"xs"},c.error.info)):null,u&&!m?(0,n.createElement)(o.F,{color:"teal",title:"Success!"},(0,n.createElement)(l.E,{size:"xs"},"Great! You have an API KEY on"," ",(0,n.createElement)("a",{target:"_blank",href:"https://ipstack.com/"},"IPStack")," ","service.")):(0,n.createElement)(o.F,{title:"Get your API KEY"},(0,n.createElement)(l.E,{size:"xs"},"Sign up for Free on"," ",(0,n.createElement)("a",{target:"_blank",href:"https://ipstack.com/"},"IPStack")," ","service to get your ",(0,n.createElement)("strong",null,"API KEY"))),(0,n.createElement)(f,{size:"xs",label:"API KEY",value:u,description:"Enter your IPStack API Key",placeholder:"0e0bf1...",onChange:e=>{const r=e.currentTarget.value;t("geolocalization.ipstack.api_key",r),s(e.currentTarget.value),setTimeout(h,1e3)}}),c&&!m&&(0,n.createElement)(A,{size:"xs",variant:"filled",readOnly:!0,label:"Your GEO information",defaultValue:JSON.stringify(c,null,2),validationError:"Invalid JSON",formatOnBlur:!0,autosize:!0,minRows:4}))))}}}]);